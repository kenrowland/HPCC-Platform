<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HPCC Metrics | HPCC Platform</title>
    <meta name="description" content="The HPCC-Platform from hpccsystems is an open source system for big data analysis. It uses a single language, platform and architecture to process data efficiently and fast.">
    <meta name="generator" content="VitePress v1.6.3">
    <link rel="preload stylesheet" href="/HPCC-Platform/assets/style.DC-OUqe1.css" as="style">
    <link rel="preload stylesheet" href="/HPCC-Platform/vp-icons.css" as="style">
    
    <script type="module" src="/HPCC-Platform/assets/app.BiPM0XXS.js"></script>
    <link rel="preload" href="/HPCC-Platform/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/HPCC-Platform/assets/chunks/theme.D2WzTpRp.js">
    <link rel="modulepreload" href="/HPCC-Platform/assets/chunks/framework.Do1Zayaf.js">
    <link rel="modulepreload" href="/HPCC-Platform/assets/helm_examples_metrics_README.md.Cr-28Izk.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-d8b57b2d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-fcbfc0e0></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-fcbfc0e0>Skip to content</a><!--]--><!----><header class="VPNav" data-v-d8b57b2d data-v-7ad780c2><div class="VPNavBar" data-v-7ad780c2 data-v-9fd4d1dd><div class="wrapper" data-v-9fd4d1dd><div class="container" data-v-9fd4d1dd><div class="title" data-v-9fd4d1dd><div class="VPNavBarTitle has-sidebar" data-v-9fd4d1dd data-v-9f43907a><a class="title" href="/HPCC-Platform/" data-v-9f43907a><!--[--><!--]--><!----><span data-v-9f43907a>HPCC Platform</span><!--[--><!--]--></a></div></div><div class="content" data-v-9fd4d1dd><div class="content-body" data-v-9fd4d1dd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-9fd4d1dd><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-9fd4d1dd data-v-afb2845e><span id="main-nav-aria-label" class="visually-hidden" data-v-afb2845e> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/HPCC-Platform/devdoc/README.html" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Getting Started</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://hpccsystems.com" target="_blank" rel="noreferrer" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>hpccsystems.com</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://hpccsystems.com/download/release-notes/" target="_blank" rel="noreferrer" tabindex="0" data-v-afb2845e data-v-815115f5><!--[--><span data-v-815115f5>Changelog</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-9fd4d1dd data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-9fd4d1dd data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/hpcc-systems/HPCC-Platform" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://www.linkedin.com/company/hpcc-systems/home" aria-label="linkedin" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-linkedin"></span></a><a class="VPSocialLink no-icon" href="https://twitter.com/hpccsystems" aria-label="twitter" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-twitter"></span></a><a class="VPSocialLink no-icon" href="https://www.facebook.com/hpccsystems" aria-label="facebook" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-facebook"></span></a><a class="VPSocialLink no-icon" href="https://www.youtube.com/user/HPCCSystems" aria-label="youtube" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-youtube"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-9fd4d1dd data-v-f953d92f data-v-bfe7971f><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-bfe7971f><span class="vpi-more-horizontal icon" data-v-bfe7971f></span></button><div class="menu" data-v-bfe7971f><div class="VPMenu" data-v-bfe7971f data-v-20ed86d6><!----><!--[--><!--[--><!----><div class="group" data-v-f953d92f><div class="item appearance" data-v-f953d92f><p class="label" data-v-f953d92f>Appearance</p><div class="appearance-action" data-v-f953d92f><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f953d92f data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f953d92f><div class="item social-links" data-v-f953d92f><div class="VPSocialLinks social-links-list" data-v-f953d92f data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/hpcc-systems/HPCC-Platform" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://www.linkedin.com/company/hpcc-systems/home" aria-label="linkedin" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-linkedin"></span></a><a class="VPSocialLink no-icon" href="https://twitter.com/hpccsystems" aria-label="twitter" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-twitter"></span></a><a class="VPSocialLink no-icon" href="https://www.facebook.com/hpccsystems" aria-label="facebook" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-facebook"></span></a><a class="VPSocialLink no-icon" href="https://www.youtube.com/user/HPCCSystems" aria-label="youtube" target="_blank" rel="noopener" data-v-e71e869c data-v-60a9a2d3><span class="vpi-social-youtube"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-9fd4d1dd data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-9fd4d1dd><div class="divider-line" data-v-9fd4d1dd></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-d8b57b2d data-v-2488c25a><div class="container" data-v-2488c25a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-2488c25a><span class="vpi-align-left menu-icon" data-v-2488c25a></span><span class="menu-text" data-v-2488c25a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-2488c25a data-v-6b867909><button data-v-6b867909>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-d8b57b2d data-v-42c4c606><div class="curtain" data-v-42c4c606></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-42c4c606><span class="visually-hidden" id="sidebar-aria-label" data-v-42c4c606> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>General</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/README.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Getting Started</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/Development.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Development Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/StyleGuide.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>C++ Style Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/ecllibrary/StyleGuide.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>ECL Style Guide</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/CodeSubmissions.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Code Submission Guidelines</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/CodeReviews.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Code Review Guidelines</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/DevDocs.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Writing Developer Documentation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/userdoc/README.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>User Guides</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/UserBuildAssets.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Build on Github Actions</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-51288d80><section class="VPSidebarItem level-0" data-v-51288d80 data-v-0009425e><div class="item" role="button" tabindex="0" data-v-0009425e><div class="indicator" data-v-0009425e></div><h2 class="text" data-v-0009425e>Other</h2><!----></div><div class="items" data-v-0009425e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/Workunits.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Workunit Workflow</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/CodeGenerator.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Code Generator</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/roxie.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Roxie</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/MemoryManager.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Memory Manager</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/Metrics.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Metrics</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-0009425e data-v-0009425e><div class="item" data-v-0009425e><div class="indicator" data-v-0009425e></div><a class="VPLink link link" href="/HPCC-Platform/devdoc/DevTestWithLDAP.html" data-v-0009425e><!--[--><p class="text" data-v-0009425e>Development Testing With LDAP</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-d8b57b2d data-v-9a6c75ad><div class="VPDoc has-sidebar has-aside" data-v-9a6c75ad data-v-e6f2a212><!--[--><!--]--><div class="container" data-v-e6f2a212><div class="aside" data-v-e6f2a212><div class="aside-curtain" data-v-e6f2a212></div><div class="aside-container" data-v-e6f2a212><div class="aside-content" data-v-e6f2a212><div class="VPDocAside" data-v-e6f2a212 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-f610f197><div class="content" data-v-f610f197><div class="outline-marker" data-v-f610f197></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-f610f197>On this page</div><ul class="VPDocOutlineItem root" data-v-f610f197 data-v-53c99d69><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-e6f2a212><div class="content-container" data-v-e6f2a212><!--[--><!--]--><main class="main" data-v-e6f2a212><div style="position:relative;" class="vp-doc _HPCC-Platform_helm_examples_metrics_README" data-v-e6f2a212><div><h1 id="hpcc-metrics" tabindex="-1">HPCC Metrics <a class="header-anchor" href="#hpcc-metrics" aria-label="Permalink to &quot;HPCC Metrics&quot;">​</a></h1><p>HPCC components collect metrics describing overall component health and state. In order to use component metrics for activities such as scaling and alerting, the collected metrics must be reported to a collection system such as Prometheus, Elasticsearch, or Azure Insights.</p><h2 id="enabling-metric-reporting" tabindex="-1">Enabling Metric Reporting <a class="header-anchor" href="#enabling-metric-reporting" aria-label="Permalink to &quot;Enabling Metric Reporting&quot;">​</a></h2><p>To enable reporting of metrics to a collection system, add metric configuration settings to the helm chart. The configuration includes the collection system in use and the settings necessary to report metrics.</p><p>The provided HPCC helm chart provides all global settings from its values.yml file to all components. To enable metrics reporting, either include the metrics configuration as a permanent part of your HPCC helm chart values.yml file, or add it as command line settings at chart installation. Since the configuration consists of multiple settings, if enabling metrics via the command line, use the <em>-f filename</em> option for convenience.</p><p>This directory contains examples of configuration settings for HPCC provided collection systems. See each file for a description of its available settings. Use the file as is, or customize for your installation.</p><p>For example, the following adds the Prometheus configuration as the collection system.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">helm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mycluster</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./hpcc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/prometheus_metrics.yml</span></span></code></pre></div><h3 id="prometheus-collection-system" tabindex="-1">Prometheus Collection System <a class="header-anchor" href="#prometheus-collection-system" aria-label="Permalink to &quot;Prometheus Collection System&quot;">​</a></h3><p>When enabled and properly configured, the HPCC metrics for Prometheus feature exposes an HTTP service on each pod of any HPCC component which reports metrics. It also annotates all HPCC pods to be discoverable by Prometheus servers and provides the connectivity information required, such as the port to listen on, and the url path on which to serve Prometheus formatted metrics. Auto-discovery annotations can be disabled via metrics.sinks[type=prometheus].settings.autodiscovery</p><h2 id="harvesting-hpcc-metrics" tabindex="-1">Harvesting HPCC metrics <a class="header-anchor" href="#harvesting-hpcc-metrics" aria-label="Permalink to &quot;Harvesting HPCC metrics&quot;">​</a></h2><h3 id="managed-prometheus-deployment-for-hpcc-prometheus4hpccmetrics" tabindex="-1">Managed Prometheus deployment for HPCC (prometheus4hpccmetrics) <a class="header-anchor" href="#managed-prometheus-deployment-for-hpcc-prometheus4hpccmetrics" aria-label="Permalink to &quot;Managed Prometheus deployment for HPCC (prometheus4hpccmetrics)&quot;">​</a></h3><p>HPCC Systems provides a convenient Helm chart which deploys and configures a local Prometheus Kube Stack instance for the purpose of HPCC component metrics processing. Enabling of the Prometheus metrics collection system as detailed above is required.</p><ul><li>Add HPCC helm repository helm repo<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  &gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> helm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hpcc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://hpcc-systems.github.io/helm-chart/</span></span></code></pre></div></li><li>Deploy prometheus4hpccmetrics<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  &gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> helm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mypromstack</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hpcc/prometheus4hpccmetrics</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   NAME:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mypromstack</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   LAST</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DEPLOYED:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Fri</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Nov</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 10:44:17</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2021</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   NAMESPACE:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> default</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   STATUS:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deployed</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   REVISION:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span></code></pre></div></li><li>Confirm Prometheus Stack pods are in ready state<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  &gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pods</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                  READY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   STATUS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    RESTARTS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   AGE</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mypromstack-grafana-57bbff469b-lf4z7</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                  2/2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     Running</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          102s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mypromstack-kube-prometheu-operator-94674f97f-86dk5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   1/1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     Running</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          102s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mypromstack-kube-state-metrics-86d7f754f4-8r44w</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       1/1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     Running</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          102s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mypromstack-prometheus-node-exporter-dpsss</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            1/1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     Running</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          102s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mypromstack-prometheus-node-exporter-h5nwn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            1/1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     Running</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          102s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mypromstack-prometheus-node-exporter-jhzwx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            1/1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     Running</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          102s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  prometheus-mypromstack-kube-prometheu-prometheus-0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    2/2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     Running</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          95s</span></span></code></pre></div></li><li>Confirm Prometheus stack services have deployed successfully<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  &gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> svc</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  NAME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                    TYPE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           CLUSTER-IP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     EXTERNAL-IP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     PORT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">S</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)             </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">AGE</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  kubernetes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                              ClusterIP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Remove</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          443/TCP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">             24h</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mypromstack-grafana</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                     ClusterIP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Remove</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          80/TCP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">              9m9s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mypromstack-kube-prometheu-operator</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     ClusterIP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Remove</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          443/TCP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">             9m9s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mypromstack-kube-prometheu-prometheus</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ClusterIP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Remove</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          9090/TCP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            9m9s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mypromstack-kube-state-metrics</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          ClusterIP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Remove</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          8080/TCP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            9m9s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  mypromstack-prometheus-node-exporter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    ClusterIP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Remove</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          9100/TCP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            9m9s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  prometheus-operated</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                     ClusterIP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      None</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">           &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">non</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          9090/TCP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">            9m1s</span></span></code></pre></div></li><li>Prometheus exposes available metrics and various tools via dashboard on port 9090 (address will vary - see svc listing)</li><li>Confirm HPCC Metrics services are targeted by Prometheus <ul><li>Find the &quot;hpcc-per-pod-metrics&quot; section under Status -&gt; Targets (on the Prometheus dashboard)</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    Endpoint</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	State</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	Labels</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	Last</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Scrape</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	Scrape</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Duration</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	Error</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    http://</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;removed&gt;:8767/metrics	</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">UP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	containername=&quot;eclwatch&quot;job=&quot;hpcc-per-pod-metrics&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	8m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 47s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ago</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	1.048ms</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    ```</span></span></code></pre></div></li><li>Confirm HPCC metrics are scraped from above services <ul><li>On the &#39;Graph&#39; section of the dashboard, search for known HPCC metrics such as &#39;esp_requests_active&#39;</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    esp_requests_active</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">{containername=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;eclqueries&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> job=&quot;hpcc-per-pod-metrics&quot;}</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    esp_requests_active</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">{containername=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;eclservices&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  job=&quot;hpcc-per-pod-metrics&quot;}</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    esp_requests_active</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">{containername=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;eclwatch&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> job=&quot;hpcc-per-pod-metrics&quot;}</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    esp_requests_active</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">{containername=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;esdl-sandbox&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  job=&quot;hpcc-per-pod-metrics&quot;}</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">	3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    esp_requests_active</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">{containername=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;sql2ecl&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> job=&quot;hpcc-per-pod-metrics&quot;}</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    ```</span></span></code></pre></div></li><li>The available Grafana service provides advanced tools for higher level metrics processing and alerting</li><li>please see <a href="https://github.com/hpcc-systems/HPCC-Platform/tree/master/helm/managed/metrics/prometheus" target="_blank" rel="noreferrer">Managed Prometheus Helm chart</a> for further details.</li></ul><h3 id="self-managed-prometheus" tabindex="-1">Self-Managed Prometheus <a class="header-anchor" href="#self-managed-prometheus" aria-label="Permalink to &quot;Self-Managed Prometheus&quot;">​</a></h3><p>One of the advantages of the aforementioned managed Prometheus Helm chart, is the pre-configured scrape job &#39;hpcc-per-pod-metrics&#39; which instructs Prometheus to scrape metrics from all HPCC pods which report metrics. On a self-managed Prometheus set-up, an &quot;additionalScrapeConfigs&quot; entry is necessary to link the HPCC metrics services to Prometheus</p><p>For example, the following Prometheus scrape job can be applied to Prometheus deployments as part of the &#39;additionalScrapeConfigs&#39; configuration:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> job_name:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;hpcc-per-pod-metrics&#39;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      scrape_interval:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 5s</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      metrics_path:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /metrics</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      kubernetes_sd_configs:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> role:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pod</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      relabel_configs:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> source_labels:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">__meta_kubernetes_pod_annotation_prometheus_io_scrape</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        action:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> keep</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        regex:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> source_labels:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">__meta_kubernetes_pod_annotation_prometheus_io_path</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        action:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> replace</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        target_label:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> __metrics_path__</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        regex:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (.+)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> source_labels:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">__address__,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> __meta_kubernetes_pod_annotation_prometheus_io_port</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        action:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> replace</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        regex:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ([^:]+)(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">d+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">\d+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        replacement:</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> ${1}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">${3}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        target_label:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> __address__</span></span></code></pre></div><ul><li>More information on the &quot;additionalScrapeConfigs&quot; options provided by Prometheus here: <a href="https://prometheus.io/docs/prometheus/latest/configuration/configuration/#scrape_config" target="_blank" rel="noreferrer">https://prometheus.io/docs/prometheus/latest/configuration/configuration/#scrape_config</a></li><li>3rd Party write up on the relabel_configs used in the additionalscrapeconfigs here: <a href="https://gist.github.com/reachlin/a98b90afcbff4604c90c183a0169474f" target="_blank" rel="noreferrer">https://gist.github.com/reachlin/a98b90afcbff4604c90c183a0169474f</a></li></ul><h3 id="azure-insights-monitoring-and-analytics" tabindex="-1">Azure Insights (Monitoring and Analytics) <a class="header-anchor" href="#azure-insights-monitoring-and-analytics" aria-label="Permalink to &quot;Azure Insights (Monitoring and Analytics)&quot;">​</a></h3><p>HPCC metrics can be easily routed to Azure Insights for application level monitoring and analytics via the aforementioned Prometheus metrics services. This process requires the HPCC Prometheus metrics collection system, but does not involve any instances the Prometheus server. Since Azure Insights is able to scrape metrics from Prometheus styled services, this process relies on enabling Azure Insights on the target AKS cluster, and configuring the automatic scraping of metrics from the Prometheus metric endpoints provided by HPCC components.</p><ul><li>Enable HPCC&#39;s Prometheus metrics on the target HPCC deployment. <ul><li>For example (utilizing prometheus_metrics.yml values file provided in hpcc-systems/HPCC-Platform github repo:</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  helm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mycluster</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./hpcc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> helm/examples/metrics/prometheus_metrics.yml</span></span></code></pre></div></li><li>Enable Azure&#39;s Insights on the target AKS cluster <ul><li>Can be done from Azure portal or via CLI</li><li>Detailed Azure documentation: <a href="https://docs.microsoft.com/en-us/azure/azure-monitor/containers/container-insights-onboard" target="_blank" rel="noreferrer">Enable Container insights</a></li><li>On Azure portal, select target AKS cluster -&gt; Monitoring -&gt; Insights -&gt; Enable</li><li>From command line, create log-analytics workspace [optional - default workspace otherwise]</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  az</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> monitor</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> log-analytics</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> workspace</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myresourcegroup</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myworkspace</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --query-access</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Enabled</span></span></code></pre></div><ul><li>Enable on target AKS cluster (referencing workspace resource id from previous step)</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  az</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> aks</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable-addons</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myresourcegroup</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> myaks</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> monitoring</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --workspace-resource-id</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;/subscriptions/xyz/resourcegroups/myresourcegroup/providers/microsoft.operationalinsights/workspaces/myworkspace&quot;</span></span></code></pre></div></li><li>Configure Per-pod metrics scraping <ul><li>Apply provided <a href="https://github.com/hpcc-systems/HPCC-Platform/blob/master/helm/examples/metrics/container-azm-ms-agentconfig-prometheusperpod.yaml" target="_blank" rel="noreferrer">Log Analytics agent ConfigMap</a> - which enables per-pod Prometheus metrics scraping</li></ul></li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apply</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">hpcc-systems/HPCC-Platform</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/helm/examples/metrics/container-azm-ms-agentconfig-prometheusperpod.yaml</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ```</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Alternatively, manually copy [default ConfigMap yaml](</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">https://raw.githubusercontent.com/microsoft/Docker-Provider/ci_prod/kubernetes/container-azm-ms-agentconfig.yaml</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">) locally and set monitor_kubernetes_pods = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in the prometheus-data-collection-settings section. Then apply that file as above.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Confirm the value was applied - the following command should reflect the above value</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">```</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bash</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">   kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ConfigMap</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kube-system</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> container-azm-ms-agentconfig</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> jsonpath=&#39;{.data.prometheus-data-collection-settings}&#39;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ```</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Fetch available metrics</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> From Azure portal, select target AKS cluster -</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Monitoring -</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Logs, in Kusto Query field, enter the following:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">```</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bash</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    InsightsMetrics</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> where</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Namespace</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;prometheus&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> extend</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tags=parse_json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Tags</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> summarize</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> count</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">by</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Name</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    ```</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Sample output:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">```</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bash</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    esp_requests_active</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	1,200</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    dali_nq_requests_received</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	1,440</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    dali_sds_requests_completed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	1,440</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    dali_sds_requests_pending</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	1,440</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    dali_sds_requests_received</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	1,440</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    dali_sds_requests_started</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	1,440</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    esp_requests_received</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	1,200</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    esp_soap_requests_received</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	1,200</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Query</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> specific</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> HPCC</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> metric</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Replace</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> previous</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> query</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> following:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">```</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bash</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    InsightsMetrics</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> where</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Namespace == &quot;prometheus&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> where</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Name == &quot;esp_requests_active&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    ```</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Sample</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> output:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">```</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bash</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    11/5/2021,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 9:02:00.000 PM	prometheus	esp_requests_active	</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	{&quot;app&quot;:&quot;eclservices&quot;,&quot;namespace&quot;:&quot;default&quot;,&quot;pod_name&quot;:&quot;eclservices-778477d679-vgpj2&quot;}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    11/5/2021,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 9:02:00.000 PM	prometheus	esp_requests_active	</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	{&quot;app&quot;:&quot;eclservices&quot;,&quot;namespace&quot;:&quot;default&quot;,&quot;pod_name&quot;:&quot;eclservices-778477d679-vgpj2&quot;}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    ```</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">###  ElasticSearch Support</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HPCC</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> metrics</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> can</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> be</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> routed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ElasticSearch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> advanced</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> metrics</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> processing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">alerting.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> This</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> process</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> involves</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> two</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> requirements:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enabling</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ElasticSearch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> metric</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sink,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configuring</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> index</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ElasticSearch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> receive</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> metrics.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Since</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> metrics</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configuration</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> common</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> across</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> all</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> HPCC</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> components,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ElasticSearch</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sink</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> will</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> report</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> metrics</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> all</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> components</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> same</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> index.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Therefore,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">index</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> must</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> be</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configured</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> receive</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> metrics</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> all</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> components.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#### Index Configuration</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">The</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sink</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> requires</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> index</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> be</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> created</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configured</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fully</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ElasticSearch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> order</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sink</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> report</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">metrics.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> The</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sink</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reads</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configuration</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> data</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> index</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> order</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> properly</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> report</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> metrics.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Future</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> versions</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">of</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sink</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> may</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> capability</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> index</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> if</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> it</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> does</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exist.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> The</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> index</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> is</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> passed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sink</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> as</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> a</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configuration</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> setting.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">The</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> following</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> must</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> be</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configured</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> index</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> order</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> for</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sink</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> properly</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> report</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> metrics:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">##### Dynamic Mapping</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">The</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> index</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> must</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> be</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> configured</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dynamic</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mapping</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enabled.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Dynamic</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mapping</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> allows</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> storing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> of</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> framework</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> metric</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">values</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> using</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> native</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> types.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Without</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dynamic</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mapping,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ElasticSearch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> default</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mapping</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> does</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> not</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> properly</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> map</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">values</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> unsigned</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 64-bit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> integers.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">To</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> an</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> index</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dynamic</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mapping,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> use</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> following</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> object,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> or</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> other</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> means,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> when</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> creating</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> index:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">```</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;mappings&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  &quot;dynamic_templates&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      &quot;hpcc_metrics_count_suffix&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;match&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;*_count&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;mapping&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          &quot;type&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;unsigned_long&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        }</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      }</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    },</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      &quot;hpcc_metrics_gauge_suffix&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;match&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;*_gauge&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;mapping&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          &quot;type&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;unsigned_long&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        }</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      }</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    },</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      &quot;hpcc_metrics_histogram_suffix&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;match&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;*_histogram&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;mapping&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          &quot;type&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;histogram&quot;</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        }</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      }</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    }</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  ]</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}</span></span></code></pre></div><p>The object names beginning with &quot;hpcc_metric_&quot; represent the mappings for the three affected hpcc metrics types. The <em>match</em> value for each defines the expected suffix for each HPCC metric value, based on type, when metrics are reported and indexed. The object names above are the default values used by the sink. The index can be configured with different object names (for environment flexibility), but the object names must be provided to the sink as additional configuration settings (defined below).</p><h4 id="enabling-elasticsearch-metrics-sink-for-kubernetes" tabindex="-1">Enabling ElasticSearch Metrics Sink for Kubernetes <a class="header-anchor" href="#enabling-elasticsearch-metrics-sink-for-kubernetes" aria-label="Permalink to &quot;Enabling ElasticSearch Metrics Sink for Kubernetes&quot;">​</a></h4><p>To enable reporting of metrics to ElasticSearch, add the metric configuration settings to the helm chart.</p><p>The provided HPCC helm chart provides all global settings from its values.yml file to all components. To enable metrics reporting, either include the metrics configuration as a permanent part of your HPCC helm chart values.yml file, or add it as command line settings at chart installation. To enable the ElasticSearch sink on the command line, use the following to add the ElasticSearch settings:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">helm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mycluster</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./hpcc</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/elasticsearch_metrics.yml</span></span></code></pre></div><p>An example <em>yml</em> file can be found in the repository at helm/examples/metrics/elasticsearch_metrics.yml. Make a copy and modify as needed for your installation.</p><h5 id="configuration-settings" tabindex="-1">Configuration Settings <a class="header-anchor" href="#configuration-settings" aria-label="Permalink to &quot;Configuration Settings&quot;">​</a></h5><p>The ElasticSearch sink defines the following settings</p><p><strong>Host</strong> The host settings define the server hosting ElasticSearch to which metrics are reported. The settings are:</p><ul><li>domain - The domain or IP address of the ElasticSearch server. (required)</li><li>protocol - The protocol used to connect to the ElasticSearch server. (default: https)</li><li>port - The port number of the ElasticSearch server. (default: 9200)</li><li>certificateFilePath - Path to the file containing the certificate used to connect to the ElasticSearch server. (optional)</li><li>connectTimeout - The time in seconds to wait for a connection to be established to the (default: 5)</li><li>readTimeout - The time in seconds to wait for a response from the server for a read operation. (default: 5)</li><li>writeTimeout - The time in seconds to wait for a response from the server for a write operation. (default: 5)</li></ul><p><strong>Authentication</strong></p><p>Optional child of the host configuration where authentication settings are defined. If missing, no authentication is used. If defined, the settings are:</p><ul><li>type - Required Authentication type used to connect to the ElasticSearch server. Value defines the remaining settings. The allowed values are: <ul><li>basic - Basic authentication is used.</li></ul></li><li>credentialsSecret - The name of the secret containing the credentials used to authenticate to the ElasticSearch server. (optional, valid for Kubernetes only)</li><li>credentialsVaultId - The vault ID containing the credentials used to authenticate to the ElasticSearch server. (optional, valid for Vault only)</li></ul><p>For <strong>basic</strong> authentication, the following settings are required. If a secret or vault is defined, these values are store there and are not required in the configuration file. Otherwise, they are required in the configuration file (environment.xml).</p><ul><li>username - The username used to authenticate to the ElasticSearch server.</li><li>password - The password used to authenticate to the ElasticSearch server. When stored in the environment.xml file, it shall be encrypted using standard environment.xml encryption.</li></ul><p><strong>Index</strong></p><p>The index must be created and configred in ElasticSearch before the sink will load and report metrics. The following settings describe what must be configured in ElasticSearch.</p><ul><li>name - The name of the index to which metrics are reported. (required)</li><li>countSuffixMappingName - See below. (default: hpcc_metrics_count_suffix)</li><li>gaugeSuffixMappingName - See below. (default: hpcc_metrics_gauge_suffix)</li><li>histogramSuffixMappingName - See below. (default: hpcc_metrics_histogram_suffix)</li></ul><p>The <em>*SuffixMappingName</em> values are object names in the index <em>dynamic_templates</em> object of the index&#39;s <em>mappings</em> object. These MUST be configured in the index. The mapping name objects contain a <em>match</em> member whose value is used as the suffix for the related HPCC metric type. The format is expected to be &quot;<em>&lt;string&gt;&quot; where &quot;</em>&quot; is part of the defined match pattern syntax defined by ElasticSearch and &quot;&lt;string&gt;&quot; is the suffix appended to each HPCC metric based on type. For example, If a <em>match</em> value is defined as &quot;*_count&quot;, then the sink would add &quot;_count&quot; to the end of each metric when indexing measurements during a report. This ensures that each HPCC metric is stored in the index with the correct type. Please refer to the ElasticSearch documentation for more information on dynamically mapping types when indexing documents.</p><p>For convenience, if the index dynamic templates configuration settings do not include a gauge suffix setting, the value for the count suffix setting is used.</p><p>Standard periodic metric sink settings are also available.</p><h4 id="enabling-elasticsearch-metrics-sink-for-bare-metal" tabindex="-1">Enabling ElasticSearch Metrics Sink for Bare Metal <a class="header-anchor" href="#enabling-elasticsearch-metrics-sink-for-bare-metal" aria-label="Permalink to &quot;Enabling ElasticSearch Metrics Sink for Bare Metal&quot;">​</a></h4><p>To enable reporting of metrics to ElasticSearch, add the metric configuration settings to the environment configuration file (enviroment.xml). These settings must be added manually since there is no support in the config manager.</p><p>Add the following to the environment.xml configuration file (note that some values may not be required):</p><div class="language-xml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Software</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">metrics</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;mymetricsconfig&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">sinks</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;myelasticsink&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;elastic&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">settings</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> period</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;30&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ignoreZeroMetrics</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">host</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> domain</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\&lt;domainname\&gt;&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> port</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\&lt;port\&gt;&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> protocol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http|https&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">              certificateFilePath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\&lt;path to cert file\&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">authentication</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;basic&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> username</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\&lt;username\&gt;&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> password</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\&lt;password\&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">host</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">index</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\&lt;index\&gt;&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> countSuffixMappingName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\&lt;name\&gt;&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> histogramSuffixMappingName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\&lt;name\&gt;&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> gaugeSuffixMappingName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\&lt;name\&gt;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt; </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">settings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">sinks</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">metrics</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Software</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>See section above for additional settings that can be added to the ElasticSearch sink.</p><h4 id="using-kubernetes-secrets" tabindex="-1">Using Kubernetes Secrets <a class="header-anchor" href="#using-kubernetes-secrets" aria-label="Permalink to &quot;Using Kubernetes Secrets&quot;">​</a></h4><p>In order to use Kubernetes secrets to store authentication credentials, use the following steps.</p><p>First, create the secret in the Kubernetes cluster using the following command. Note the password is in clear text and is stored in the secret in clear text. Therefore, it does not need to be decrypted before use.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> secret</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> generic</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> elasticsecret</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --from-literal=username=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">username</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --from-literal=password=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">password</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><p>If using a certification where you must map the cert file into the pod, use the following to create a secret that maps the certificate file into the pod:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> secret</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> generic</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> elastic-ca-cert</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --from-file=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cert-name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">filepath</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">t</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><p>Then, in the yaml config for the sink, use the following to reference the secret for the cert file:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">certificateFilePath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/opt/HPCCSystems/secrets/system/elastic-ca-cert/&lt;cert-name&gt;&quot;</span></span></code></pre></div><p>Additionally, use the following yaml snippet in a helm chart values file to map the secrets into cluster pods:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">secrets</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  system</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    elastic-ca-cert</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;elastic-ca-cert&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    elasticsecret</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;elasticsecret&quot;</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-e6f2a212 data-v-1bcd8184><!--[--><!--]--><div class="edit-info" data-v-1bcd8184><div class="edit-link" data-v-1bcd8184><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/hpcc-systems/HPCC-Platform/edit/master/helm/examples/metrics/README.md" target="_blank" rel="noreferrer" data-v-1bcd8184><!--[--><span class="vpi-square-pen edit-link-icon" data-v-1bcd8184></span> Edit this page on GitHub<!--]--></a></div><div class="last-updated" data-v-1bcd8184><p class="VPLastUpdated" data-v-1bcd8184 data-v-1bb0c8a8>Last Updated: <time datetime="2026-02-05T12:44:08.000Z" data-v-1bb0c8a8></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><!----></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/HPCC-Platform/devdoc/README.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Next page</span><span class="title" data-v-1bcd8184>Getting Started</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-d8b57b2d data-v-566314d4><div class="container" data-v-566314d4><p class="message" data-v-566314d4>Released under the Apache-2.0 License.</p><p class="copyright" data-v-566314d4>Copyright © 2023-present hpccsystems.com</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"build_me.md\":\"CkduYtXr\",\"build_utils_builds_file_transfer_readme.md\":\"DVI2nwG0\",\"cmake_modules_documentation.md\":\"BauZFK_E\",\"common_eventconsumption_readme.md\":\"6HA13Ho8\",\"dali_sasha_sasha.md\":\"BD5kKo1K\",\"devdoc_buildworkflows.md\":\"Db6sfYtO\",\"devdoc_codegenerator.md\":\"DpQkvJ95\",\"devdoc_codereviews.md\":\"GMo3jH3J\",\"devdoc_codesubmissions.md\":\"DZIeym18\",\"devdoc_dali.md\":\"Lg15q6u0\",\"devdoc_devdocs.md\":\"umrk8bS-\",\"devdoc_developerdocs.md\":\"CwfxTHF3\",\"devdoc_development.md\":\"B40DoTuo\",\"devdoc_devtestwithldap.md\":\"BRvGiWgi\",\"devdoc_docs_contributedocs.md\":\"Bzrw_KK4\",\"devdoc_docs_doctemplate.md\":\"CFgAdAqv\",\"devdoc_docs_hpccstyleguide.md\":\"x7-rsWhF\",\"devdoc_docs_logcostmitigation.md\":\"hbZ_rniI\",\"devdoc_endusers.md\":\"_19rCgBZ\",\"devdoc_esdlfunctions.md\":\"BYX8IGQv\",\"devdoc_gitauthenticate.md\":\"zJqDrsIO\",\"devdoc_helmreadmes.md\":\"Dojf72v0\",\"devdoc_indexformats.md\":\"Dpm43V9J\",\"devdoc_ldapsecuritymanager.md\":\"CXKwe5Ed\",\"devdoc_memorymanager.md\":\"YZi1AYl_\",\"devdoc_metrics.md\":\"DHiNXpUx\",\"devdoc_newactivity.md\":\"DlInukE0\",\"devdoc_newfileprocessing.md\":\"ZqJgocb5\",\"devdoc_operations.md\":\"CLzksyoL\",\"devdoc_optimizingroxiequeryperformance.md\":\"Cr9LFKFr\",\"devdoc_readme.md\":\"dW2IGK88\",\"devdoc_red_book_changes-to-regex-support-in-hpcc-systems-9.8.0.md\":\"DZdUp-J_\",\"devdoc_red_book_how-to-remove-the-spark-hpcc-connector-integration.md\":\"DoWrr552\",\"devdoc_red_book_hpcc-systems-10.0.x-releases.md\":\"DunZyrXY\",\"devdoc_red_book_hpcc-systems-10.2.x-releases.md\":\"C1WtXp_W\",\"devdoc_red_book_hpcc-systems-8.0.x-releases.md\":\"B5Jics1C\",\"devdoc_red_book_hpcc-systems-8.12.x-releases.md\":\"B3MHzwz9\",\"devdoc_red_book_hpcc-systems-8.6.x-releases.md\":\"DMriCo5G\",\"devdoc_red_book_hpcc-systems-9.0.x-releases.md\":\"DdUAhQ9a\",\"devdoc_red_book_hpcc-systems-9.10.x-releases.md\":\"CQT1QXHW\",\"devdoc_red_book_hpcc-systems-9.12.x-releases.md\":\"Bh0uoFZO\",\"devdoc_red_book_hpcc-systems-9.14.x-releases.md\":\"a8NdX5xb\",\"devdoc_red_book_hpcc-systems-9.2.x-releases.md\":\"DAADaUpT\",\"devdoc_red_book_hpcc-systems-9.4.x-releases.md\":\"DvET_1Pr\",\"devdoc_red_book_hpcc-systems-9.6.x-releases.md\":\"CiBm4Qk0\",\"devdoc_red_book_hpcc-systems-9.8.x-releases.md\":\"DDAui9T_\",\"devdoc_red_book_hpcc-systems-red-book.md\":\"CA47NFMa\",\"devdoc_red_book_opentelemetrytraceissue.md\":\"_04mbRJu\",\"devdoc_release_announcements_10.0-platform-release-announcement.md\":\"DNCQdTWM\",\"devdoc_release_announcements_10.2-platform-release-announcement.md\":\"kqXG7eMu\",\"devdoc_release_announcements_9.10-platform-release-announcement.md\":\"C1NpS9a4\",\"devdoc_release_announcements_9.12.0-platform-release-announcement.md\":\"pfiWFREP\",\"devdoc_release_announcements_9.14-platform-release-announcement.md\":\"DoHyTPyx\",\"devdoc_release_announcements_9.6-platform-release-announcement.md\":\"Z98plr5V\",\"devdoc_release_announcements_9.8-platform-release-announcement.md\":\"la57XmTO\",\"devdoc_release_announcements_platform-release-announcements.md\":\"VN-4pVGE\",\"devdoc_remote file roxie.md\":\"C6bhcWc8\",\"devdoc_roxie.md\":\"xOFfoXEX\",\"devdoc_securityconfig.md\":\"-M2gGL_1\",\"devdoc_securityuserauthentication.md\":\"BMXfWJ7d\",\"devdoc_styleguide.md\":\"DgkXoFI2\",\"devdoc_testworkflows.md\":\"DSH144Sc\",\"devdoc_userbuildassets.md\":\"FR8ivk5S\",\"devdoc_userdoc_avoidlegacyflag.md\":\"CcgiJw9M\",\"devdoc_userdoc_azure_tipsandtricks.md\":\"DvTw-wdK\",\"devdoc_userdoc_azuretipstricks.md\":\"DVxKdsk1\",\"devdoc_userdoc_blogs.md\":\"CNetIsXc\",\"devdoc_userdoc_copilot_copilotprompttips.md\":\"CT0lj09H\",\"devdoc_userdoc_eclwatch9-transition-guide_ecl-watch-9.0-transition-guide.md\":\"DypcbCHK\",\"devdoc_userdoc_eclwatch9-transition-guide_ecl-watch-breadcrumbs-and-navigation.md\":\"Dowv3hkh\",\"devdoc_userdoc_eclwatch9-transition-guide_ecl-watch-file-cost-and-file-access-cost.md\":\"MfSe8mXY\",\"devdoc_userdoc_eclwatch9-transition-guide_ecl-watch-history-and-favorites-icons.md\":\"wE7nTMt4\",\"devdoc_userdoc_eclwatch9-transition-guide_ecl-watch-light-mode-and-dark-mode.md\":\"Dmf3AC4b\",\"devdoc_userdoc_eclwatch9-transition-guide_ecl-watch-new-side-toolbar.md\":\"C9K79hG2\",\"devdoc_userdoc_eclwatch9-transition-guide_ecl-watch-technical-preview-feature.md\":\"CC8tzwB1\",\"devdoc_userdoc_eclwatch9-transition-guide_ecl-watch-universal-search.md\":\"bl5etTQo\",\"devdoc_userdoc_how-to-youtube-library_how-to-videos-ecl-tips-and-tricks.md\":\"CHXjB5cd\",\"devdoc_userdoc_how-to-youtube-library_how-to-videos-hpcc-systems-cloud-native-platform.md\":\"CwAhofaf\",\"devdoc_userdoc_how-to-youtube-library_how-to-videos-hpcc-systems-command-line-interface.md\":\"CLHAaGzW\",\"devdoc_userdoc_how-to-youtube-library_how-to-youtube-video-library.md\":\"DU5e-Pbv\",\"devdoc_userdoc_migrating-from-stdcrypto-to-stdopenssl.md\":\"S4-UH7lk\",\"devdoc_userdoc_readme.md\":\"BdlS7j1y\",\"devdoc_userdoc_roxie_faq.md\":\"Bp6k9J6Q\",\"devdoc_userdoc_troubleshoot_clientstoolissues.md\":\"C_M2t4Yx\",\"devdoc_userdoc_vscode-and-hpcc-installation-cheat-sheet.md\":\"C_wxniAK\",\"devdoc_userdoc_wikiguidelines.md\":\"Bc9s_5wq\",\"devdoc_versionsupport.md\":\"ByWEwVG6\",\"devdoc_workunits.md\":\"CpGTT1TS\",\"dockerfiles_readme.md\":\"DhataDGi\",\"docs_documentation.md\":\"Ck19AY5G\",\"ecl_ecl-bundle_documentation.md\":\"BaqAaZ4O\",\"ecllibrary_styleguide.md\":\"BR3KPnVD\",\"esp_esdllib_docs_canmaskcontent.md\":\"9fAyEV_0\",\"esp_esdllib_docs_compressstring.md\":\"CaXumkQe\",\"esp_esdllib_docs_decodebase64string.md\":\"d3slhV5k\",\"esp_esdllib_docs_decompressstring.md\":\"TeCdXsv4\",\"esp_esdllib_docs_delay.md\":\"7vqs5pmS\",\"esp_esdllib_docs_deprecateddecryptstring.md\":\"ByRljju6\",\"esp_esdllib_docs_deprecatedencryptstring.md\":\"CbM2xZW-\",\"esp_esdllib_docs_encodebase64string.md\":\"Bk0_wBFF\",\"esp_esdllib_docs_escapexmlcharacters.md\":\"APq7VinX\",\"esp_esdllib_docs_getmaskingpropertyawareness.md\":\"Cf5VvpLG\",\"esp_esdllib_docs_getmaskvaluebehavior.md\":\"D1DKsgHV\",\"esp_esdllib_docs_gettxsummary.md\":\"BwFXjgie\",\"esp_esdllib_docs_istraceenabled.md\":\"4c6n1Ttn\",\"esp_esdllib_docs_maskcontent.md\":\"cMPoUW0G\",\"esp_esdllib_docs_masking-context-scope.md\":\"B_qsVQRC\",\"esp_esdllib_docs_maskvalue.md\":\"DQy1DsBQ\",\"esp_esdllib_docs_operations.md\":\"_lkkR3aU\",\"esp_esdllib_docs_set-trace-options.md\":\"DQkmKWYO\",\"esp_esdllib_docs_toxmlstring.md\":\"DZ4fpyPn\",\"esp_esdllib_docs_trace-content.md\":\"CdnwD0Oy\",\"esp_esdllib_docs_trace-options-scope.md\":\"DwUBwXR6\",\"esp_esdllib_docs_trace-value.md\":\"IlWgvZaT\",\"esp_esdllib_docs_trace.md\":\"CqlacCNM\",\"esp_esdllib_docs_tx-summary-timer.md\":\"C7v8U077\",\"esp_esdllib_docs_tx-summary-value.md\":\"m9lGAswN\",\"esp_esdllib_docs_unescapexmlcharacters.md\":\"DsAqKCDI\",\"esp_esdllib_docs_update-masking-context.md\":\"f07STOKD\",\"esp_esdllib_readme-security.md\":\"IAUCsRZk\",\"esp_esdllib_readme.md\":\"CJxHeJJJ\",\"esp_logging_loggingagent_modularlogagent_readme.md\":\"Dke5E4xv\",\"esp_src_test-ui_tests_framework_documentation_designdocument.md\":\"UNR0qxN9\",\"esp_src_test-ui_tests_framework_readme.md\":\"BIKrOUil\",\"esp_src_test-ui_tests_framework_setupfordev.md\":\"Boi79aUe\",\"helm_examples_azure_log-analytics_readme.md\":\"DFeN1p4c\",\"helm_examples_azure_readme.md\":\"CIlAwrWW\",\"helm_examples_azure_sa_readme.md\":\"DjFabVzJ\",\"helm_examples_certmanager_readme.md\":\"D-vzxW4H\",\"helm_examples_efs_readme.md\":\"Bfo2daqA\",\"helm_examples_esdl-sandbox_readme.md\":\"BUAELwv4\",\"helm_examples_esdl_readme.md\":\"DzK6kRLs\",\"helm_examples_esp_readme.md\":\"q7fy39zK\",\"helm_examples_filestore_hpcc-filestore_readme.md\":\"3_ARPALQ\",\"helm_examples_fsx_readme.md\":\"m_wD9_nb\",\"helm_examples_ldap_readme.md\":\"DyCAfyzB\",\"helm_examples_local_hpcc-localfile_readme.md\":\"BXbUbGg6\",\"helm_examples_logging_azure_readme.md\":\"CuqSpXSC\",\"helm_examples_logging_elastic_readme.md\":\"DCUuwPZ6\",\"helm_examples_logging_readme.md\":\"vrGRV582\",\"helm_examples_metrics_readme.md\":\"Cr-28Izk\",\"helm_examples_nfs_hpcc-nfs_readme.md\":\"CPPTwm7T\",\"helm_examples_scaling_readme.md\":\"CjIlWZK7\",\"helm_examples_secrets_readme-kubernetessecrets.md\":\"BYNyOnTV\",\"helm_examples_secrets_readme-vault_secrets_using_kubernetes_authentication.md\":\"g0qtJEtX\",\"helm_examples_secrets_readme-vaultsecretsusingapprolevaultauthentication.md\":\"DpmFpn5s\",\"helm_examples_secrets_readme-vaultsecretsusingclientcertvaultauthentication.md\":\"Duwgg8gW\",\"helm_examples_tracing_readme.md\":\"DOB2MX63\",\"helm_examples_vault-pki-remote_readme-vault-pki.md\":\"BKe6k74f\",\"helm_hpcc_docs_changes.md\":\"C0f1gRUJ\",\"helm_hpcc_docs_expert.md\":\"BFUgDUB0\",\"helm_hpcc_docs_identity.md\":\"BQ7sAOhS\",\"helm_hpcc_docs_placements.md\":\"BfR3ZNcz\",\"helm_hpcc_docs_storage.md\":\"zABiW6s9\",\"helm_managed_logging_elastic_readme.md\":\"j6B1gtyy\",\"helm_managed_logging_loki-stack_readme.md\":\"DrR4zDQo\",\"helm_managed_logging_readme.md\":\"DE_BzTjq\",\"helm_managed_metrics_prometheus_readme.md\":\"BtEqLxBR\",\"helm_managed_metrics_readme.md\":\"ByrEW09n\",\"helm_managed_observability_eck_readme.md\":\"BBYXWdbR\",\"helm_managed_readme.md\":\"BFSOqJu9\",\"index.md\":\"B4QSyxaM\",\"initfiles_bash_etc_systemd_system_readme.md\":\"C8B_1Wry\",\"initfiles_documentation.md\":\"1KnvNDht\",\"initfiles_examples_esdlexample_basicroxie_readme.md\":\"DexmAKdS\",\"initfiles_examples_esdlexample_cppplugin_readme.md\":\"DvReN9ns\",\"initfiles_examples_esdlexample_javaplugin_readme.md\":\"CbC-S5S4\",\"initfiles_examples_esdlexample_manifest_readme.md\":\"Da2VKIOk\",\"initfiles_examples_esdlexample_mysqlservice_readme.md\":\"BcejTkNs\",\"initfiles_examples_esdlexample_readme.md\":\"BDAD-jTQ\",\"initfiles_examples_resultcompare_readme.md\":\"Dvo8STyY\",\"plugins_couchbase_readme.md\":\"D8pwuPDw\",\"plugins_eclblas_readme.md\":\"bpQp0x4g\",\"plugins_exampleplugin_readme.md\":\"BXUb2p1K\",\"plugins_h3_readme.md\":\"BBJFjzKZ\",\"plugins_javaembed_javaembedoptions.md\":\"Dk4r7Azx\",\"plugins_kafka_readme.md\":\"UMh8yixH\",\"plugins_memcached_readme.md\":\"g9TXJpE6\",\"plugins_mongodb_readme.md\":\"DngpUZez\",\"plugins_nlp_readme.md\":\"GEigVpjM\",\"plugins_parquet_readme.md\":\"CV-FJxAy\",\"plugins_phonenumber_readme.md\":\"CF5D1ELo\",\"plugins_redis_readme.md\":\"DV9z6J2u\",\"plugins_sqs_readme.md\":\"D9i-3e-5\",\"readme.md\":\"p3w9Qjgv\",\"system_httplib_readme.md\":\"BhCSFi8h\",\"system_masking_include_readme.md\":\"DXsEu6JT\",\"system_masking_plugins_datamasker_readme.md\":\"DMhh0aaz\",\"system_security_plugins_jwtsecurity_readme.md\":\"DyZvb5j2\",\"testing_regress_cleanupreadme.md\":\"CPPLW0di\",\"testing_regress_ecl_analyzers_corporate_tmp_readme.md\":\"CSUcJB-1\",\"testing_regress_ecl_javaembednativeloggingbuildinfo.md\":\"BPcfbZjW\",\"testing_regress_ecl_readme.md\":\"CdNCc8hy\",\"tools_esdlcmd_readme.md\":\"9KXbVhOe\",\"tools_esp-api_readme.md\":\"DK1Zo_IE\",\"tools_tagging_readme.md\":\"DHE6wPXi\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"HPCC Platform\",\"description\":\"The HPCC-Platform from hpccsystems is an open source system for big data analysis. It uses a single language, platform and architecture to process data efficiently and fast.\",\"base\":\"/HPCC-Platform/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"search\":{\"provider\":\"local\"},\"editLink\":{\"pattern\":\"https://github.com/hpcc-systems/HPCC-Platform/edit/master/:path\",\"text\":\"Edit this page on GitHub\"},\"lastUpdated\":{\"text\":\"Last Updated\"},\"nav\":[{\"text\":\"Getting Started\",\"link\":\"/devdoc/README\"},{\"text\":\"hpccsystems.com\",\"link\":\"https://hpccsystems.com\"},{\"text\":\"Changelog\",\"link\":\"https://hpccsystems.com/download/release-notes/\"}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/hpcc-systems/HPCC-Platform\"},{\"icon\":\"linkedin\",\"link\":\"https://www.linkedin.com/company/hpcc-systems/home\"},{\"icon\":\"twitter\",\"link\":\"https://twitter.com/hpccsystems\"},{\"icon\":\"facebook\",\"link\":\"https://www.facebook.com/hpccsystems\"},{\"icon\":\"youtube\",\"link\":\"https://www.youtube.com/user/HPCCSystems\"}],\"sidebar\":[{\"text\":\"General\",\"items\":[{\"text\":\"Getting Started\",\"link\":\"/devdoc/README\"},{\"text\":\"Development Guide\",\"link\":\"/devdoc/Development\"},{\"text\":\"C++ Style Guide\",\"link\":\"/devdoc/StyleGuide\"},{\"text\":\"ECL Style Guide\",\"link\":\"/ecllibrary/StyleGuide.html\"},{\"text\":\"Code Submission Guidelines\",\"link\":\"/devdoc/CodeSubmissions\"},{\"text\":\"Code Review Guidelines\",\"link\":\"/devdoc/CodeReviews\"},{\"text\":\"Writing Developer Documentation\",\"link\":\"/devdoc/DevDocs\"},{\"text\":\"User Guides\",\"link\":\"/devdoc/userdoc/README\"},{\"text\":\"Build on Github Actions\",\"link\":\"/devdoc/UserBuildAssets\"}]},{\"text\":\"Other\",\"items\":[{\"text\":\"Workunit Workflow\",\"link\":\"/devdoc/Workunits\"},{\"text\":\"Code Generator\",\"link\":\"/devdoc/CodeGenerator\"},{\"text\":\"Roxie\",\"link\":\"/devdoc/roxie\"},{\"text\":\"Memory Manager\",\"link\":\"/devdoc/MemoryManager\"},{\"text\":\"Metrics\",\"link\":\"/devdoc/Metrics\"},{\"text\":\"Development Testing With LDAP\",\"link\":\"/devdoc/DevTestWithLDAP\"}]}],\"footer\":{\"message\":\"Released under the Apache-2.0 License.\",\"copyright\":\"Copyright © 2023-present hpccsystems.com\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>